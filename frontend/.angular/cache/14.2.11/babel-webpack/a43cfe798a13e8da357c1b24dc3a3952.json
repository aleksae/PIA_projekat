{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ea200304d/Desktop/ETF/rti.PIA/projekat/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../korisnik.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../loader/loader.component\";\n\nfunction AgencijePregledComponent_div_2_app_loader_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\", 21);\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3_div_4_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 35)(1, \"span\", 36);\n    i0.ɵɵlistener(\"click\", function AgencijePregledComponent_div_2_div_3_div_4_span_2_Template_span_click_1_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r19.reset_adresa());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 37);\n    i0.ɵɵelement(3, \"path\", 38);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\u0410\\u0434\\u0440\\u0435\\u0441\\u0430: \", ctx_r17.stara_adresa, \"\");\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3_div_4_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 39)(1, \"span\", 40);\n    i0.ɵɵlistener(\"click\", function AgencijePregledComponent_div_2_div_3_div_4_span_3_Template_span_click_1_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r21.reset_naziv());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 37);\n    i0.ɵɵelement(3, \"path\", 38);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\u041D\\u0430\\u0437\\u0438\\u0432: \", ctx_r18.stari_naziv, \"\");\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \" \\u0424\\u0438\\u043B\\u0442\\u0435\\u0440\\u0438: \");\n    i0.ɵɵtemplate(2, AgencijePregledComponent_div_2_div_3_div_4_span_2_Template, 5, 1, \"span\", 33);\n    i0.ɵɵtemplate(3, AgencijePregledComponent_div_2_div_3_div_4_span_3_Template, 5, 1, \"span\", 34);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.stara_adresa && ctx_r6.stara_adresa != \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.stari_naziv && ctx_r6.stari_naziv != \"\");\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3__svg_svg_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 41);\n    i0.ɵɵelement(1, \"path\", 42);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3__svg_svg_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 43);\n    i0.ɵɵelement(1, \"path\", 44);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3__svg_svg_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 41);\n    i0.ɵɵelement(1, \"path\", 42);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3__svg_svg_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 43);\n    i0.ɵɵelement(1, \"path\", 44);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3__svg_svg_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 41);\n    i0.ɵɵelement(1, \"path\", 42);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3__svg_svg_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 43);\n    i0.ɵɵelement(1, \"path\", 44);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3__svg_svg_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 41);\n    i0.ɵɵelement(1, \"path\", 42);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3__svg_svg_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 43);\n    i0.ɵɵelement(1, \"path\", 44);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3_div_31_div_1_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" [...]\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3_div_31_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 46)(2, \"div\", 47)(3, \"div\", 48);\n    i0.ɵɵelement(4, \"img\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 50)(6, \"div\", 51)(7, \"h5\", 52);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 53);\n    i0.ɵɵtext(10);\n    i0.ɵɵtemplate(11, AgencijePregledComponent_div_2_div_3_div_31_div_1_span_11_Template, 2, 0, \"span\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 53)(13, \"small\", 54);\n    i0.ɵɵtext(14, \"Last updated 3 mins ago\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n\n  if (rf & 2) {\n    const a_r24 = ctx.$implicit;\n    const i_r25 = ctx.index;\n    const ctx_r23 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:4000/prikaz_slike/\", a_r24[\"profilna_slika\"] != \"\" ? a_r24[\"profilna_slika\"] : \"podrazumevano_agencija.png\", \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(a_r24.dodatno[\"naziv\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r23.opisi[i_r25], \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r23.opisi_indikator[i_r25]);\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AgencijePregledComponent_div_2_div_3_div_31_div_1_Template, 15, 4, \"div\", 45);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.korisnici);\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 55)(2, \"symbol\", 56);\n    i0.ɵɵelement(3, \"path\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"div\", 57);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 58);\n    i0.ɵɵelement(6, \"use\", 59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtext(8, \" \\u041D\\u0435\\u043C\\u0430 \\u0440\\u0435\\u0437\\u0443\\u043B\\u0442\\u0430\\u0442\\u0430 \\u0437\\u0430 \\u0443\\u043D\\u0435\\u0442\\u0435 \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u0435. \");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction AgencijePregledComponent_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 22);\n    i0.ɵɵtemplate(4, AgencijePregledComponent_div_2_div_3_div_4_Template, 5, 2, \"div\", 23);\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6, \" \\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u0430\\u045A\\u0435: \");\n    i0.ɵɵelementStart(7, \"span\", 24);\n    i0.ɵɵlistener(\"click\", function AgencijePregledComponent_div_2_div_3_Template_span_click_7_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.sortiraj(\"a_o\"));\n    });\n    i0.ɵɵtemplate(8, AgencijePregledComponent_div_2_div_3__svg_svg_8_Template, 2, 0, \"svg\", 25);\n    i0.ɵɵtemplate(9, AgencijePregledComponent_div_2_div_3__svg_svg_9_Template, 2, 0, \"svg\", 26);\n    i0.ɵɵtext(10, \"\\u0410\\u0434\\u0440\\u0435\\u0441\\u0430 \");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(11, \"svg\", 27);\n    i0.ɵɵelement(12, \"path\", 28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(13, \"span\", 24);\n    i0.ɵɵlistener(\"click\", function AgencijePregledComponent_div_2_div_3_Template_span_click_13_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.sortiraj(\"a_r\"));\n    });\n    i0.ɵɵtemplate(14, AgencijePregledComponent_div_2_div_3__svg_svg_14_Template, 2, 0, \"svg\", 25);\n    i0.ɵɵtemplate(15, AgencijePregledComponent_div_2_div_3__svg_svg_15_Template, 2, 0, \"svg\", 26);\n    i0.ɵɵtext(16, \"\\u0410\\u0434\\u0440\\u0435\\u0441\\u0430 \");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(17, \"svg\", 29);\n    i0.ɵɵelement(18, \"path\", 30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(19, \"span\", 24);\n    i0.ɵɵlistener(\"click\", function AgencijePregledComponent_div_2_div_3_Template_span_click_19_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.sortiraj(\"n_o\"));\n    });\n    i0.ɵɵtemplate(20, AgencijePregledComponent_div_2_div_3__svg_svg_20_Template, 2, 0, \"svg\", 25);\n    i0.ɵɵtemplate(21, AgencijePregledComponent_div_2_div_3__svg_svg_21_Template, 2, 0, \"svg\", 26);\n    i0.ɵɵtext(22, \"\\u041D\\u0430\\u0437\\u0438\\u0432 \");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(23, \"svg\", 27);\n    i0.ɵɵelement(24, \"path\", 28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(25, \"span\", 24);\n    i0.ɵɵlistener(\"click\", function AgencijePregledComponent_div_2_div_3_Template_span_click_25_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r31.sortiraj(\"n_r\"));\n    });\n    i0.ɵɵtemplate(26, AgencijePregledComponent_div_2_div_3__svg_svg_26_Template, 2, 0, \"svg\", 25);\n    i0.ɵɵtemplate(27, AgencijePregledComponent_div_2_div_3__svg_svg_27_Template, 2, 0, \"svg\", 26);\n    i0.ɵɵtext(28, \"\\u041D\\u0430\\u0437\\u0438\\u0432 \");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(29, \"svg\", 29);\n    i0.ɵɵelement(30, \"path\", 30);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(31, AgencijePregledComponent_div_2_div_3_div_31_Template, 2, 1, \"div\", 20);\n    i0.ɵɵtemplate(32, AgencijePregledComponent_div_2_div_3_div_32_Template, 9, 0, \"div\", 31);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.stanje);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.stanje == \"\\u0420\\u0435\\u0437\\u0443\\u043B\\u0442\\u0430\\u0442\\u0438 \\u043F\\u0440\\u0435\\u0442\\u0440\\u0430\\u0433\\u0435\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.sort_adresa_opadajuce);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.sort_adresa_opadajuce);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.sort_adresa_rastuce);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.sort_adresa_rastuce);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.sort_naziv_opadajuce);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.sort_naziv_opadajuce);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.sort_naziv_rastuce);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.sort_naziv_rastuce);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.korisnici.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.korisnici.length);\n  }\n}\n\nfunction AgencijePregledComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18);\n    i0.ɵɵtemplate(2, AgencijePregledComponent_div_2_app_loader_2_Template, 1, 0, \"app-loader\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AgencijePregledComponent_div_2_div_3_Template, 33, 12, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.pretraga_u_toku);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.pretraga_u_toku);\n  }\n}\n\nfunction AgencijePregledComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵelement(1, \"app-loader\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function AgencijePregledComponent_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.pretraga());\n    });\n    i0.ɵɵtext(1, \"\\u041F\\u0440\\u0435\\u0442\\u0440\\u0430\\u0433\\u0430\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AgencijePregledComponent_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function AgencijePregledComponent_button_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.pretraga());\n    });\n    i0.ɵɵtext(1, \"\\u041F\\u0440\\u0435\\u0442\\u0440\\u0430\\u0433\\u0430\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class AgencijePregledComponent {\n  constructor(korisnikService) {\n    this.korisnikService = korisnikService;\n    this.pretraga_u_toku = false;\n    this.sort_naziv_rastuce = false;\n    this.sort_naziv_opadajuce = false;\n    this.sort_adresa_rastuce = false;\n    this.sort_adresa_opadajuce = false;\n    this.ucitavanje = false;\n  }\n\n  ngOnInit() {\n    this.ucitavanje = true;\n    this.pretraga_u_toku = false;\n    this.korisnici = [];\n    this.stanje = \"Све агенције\";\n    this.korisnikService.sviKorisnici().subscribe(korisnici => {\n      this.pocetno = korisnici;\n      korisnici.forEach(korisnik => {\n        if (korisnik.uloga == \"agencija\") {\n          this.korisnici.push(korisnik);\n          this.opisi = korisnik.dodatno['opis'].slice(0, 100);\n          this.opisi_indikator.push(false);\n        }\n      });\n      this.pocetno = this.korisnici;\n      this.ucitavanje = false;\n    });\n  }\n\n  sortiraj(res) {\n    switch (res) {\n      case 'a_o':\n        this.sort_adresa_opadajuce = !this.sort_adresa_opadajuce;\n        if (this.sort_adresa_opadajuce && this.sort_adresa_rastuce) this.sort_adresa_rastuce = false;\n        break;\n\n      case 'a_r':\n        this.sort_adresa_rastuce = !this.sort_adresa_rastuce;\n        if (this.sort_adresa_opadajuce && this.sort_adresa_rastuce) this.sort_adresa_opadajuce = false;\n        break;\n\n      case 'n_o':\n        this.sort_naziv_opadajuce = !this.sort_naziv_opadajuce;\n        if (this.sort_naziv_opadajuce && this.sort_naziv_rastuce) this.sort_naziv_rastuce = false;\n        break;\n\n      case 'n_r':\n        this.sort_naziv_rastuce = !this.sort_naziv_rastuce;\n        if (this.sort_naziv_opadajuce && this.sort_naziv_rastuce) this.sort_naziv_opadajuce = false;\n        break;\n\n      default:\n    } //console.log(\"sno \"+this.sort_naziv_opadajuce+\" snr \"+this.sort_naziv_rastuce+\" sao \"+this.sort_adresa_opadajuce+\" sar \"+this.sort_adresa_rastuce)\n\n\n    if (this.sort_adresa_opadajuce) {\n      if (this.sort_naziv_opadajuce) this.korisnici.sort((a, b) => this.sort_string(b['dodatno']['adresa'], a['dodatno']['adresa']) || this.sort_string(b['dodatno']['naziv'], a['dodatno']['naziv']));else if (this.sort_naziv_rastuce) this.korisnici.sort((a, b) => this.sort_string(b['dodatno']['adresa'], a['dodatno']['adresa']) || this.sort_string(a['dodatno']['naziv'], b['dodatno']['naziv']));else this.korisnici.sort((a, b) => this.sort_string(b['dodatno']['adresa'], a['dodatno']['adresa']));\n    } else if (this.sort_adresa_rastuce) {\n      if (this.sort_naziv_opadajuce) this.korisnici.sort((a, b) => this.sort_string(a['dodatno']['adresa'], b['dodatno']['adresa']) || this.sort_string(b['dodatno']['naziv'], a['dodatno']['naziv']));else if (this.sort_naziv_rastuce) this.korisnici.sort((a, b) => this.sort_string(a['dodatno']['adresa'], b['dodatno']['adresa']) || this.sort_string(a['dodatno']['naziv'], b['dodatno']['naziv']));else this.korisnici.sort((a, b) => this.sort_string(a['dodatno']['adresa'], b['dodatno']['adresa']));\n    } else if (this.sort_naziv_opadajuce) {\n      this.korisnici.sort((a, b) => this.sort_string(b['dodatno']['naziv'], a['dodatno']['naziv']));\n    } else if (this.sort_naziv_rastuce) {\n      this.korisnici.sort((a, b) => this.sort_string(a['dodatno']['naziv'], b['dodatno']['naziv']));\n    } else {\n      this.korisnici.sort((a, b) => {\n        if (this.pocetno.indexOf(a) > this.pocetno.indexOf(b)) return 1;else if (this.pocetno.indexOf(a) < this.pocetno.indexOf(b)) return -1;else return 0;\n      });\n    }\n  }\n\n  sort_string(a, b) {\n    if (a > b) return 1;else if (a < b) return -1;else return 0;\n  }\n\n  pretrazi_po_adresi() {\n    this.pocetno.forEach(agencija => {\n      if (!(agencija.uloga == \"agencija\")) return;\n      if (agencija.dodatno[\"adresa\"].toLowerCase().match(this.adresa.toLowerCase()) == this.adresa.toLowerCase()) this.korisnici.push(agencija);\n    });\n    this.stanje = \"Резултати претраге\";\n  }\n\n  pretrazi_po_nazivu() {\n    this.pocetno.forEach(agencija => {\n      if (!(agencija.uloga == \"agencija\")) return;\n      if (agencija.dodatno[\"naziv\"].toLowerCase().match(this.naziv.toLowerCase()) == this.naziv.toLowerCase()) this.korisnici.push(agencija);\n    });\n    this.stanje = \"Резултати претраге\";\n  }\n\n  pretrazi_po_oba() {\n    this.korisnici = [];\n    this.pocetno.forEach(agencija => {\n      if (!(agencija.uloga == \"agencija\")) return;\n      if (agencija.dodatno[\"naziv\"].toLowerCase().match(this.naziv.toLowerCase()) == this.naziv.toLowerCase() && agencija.dodatno[\"adresa\"].toLowerCase().match(this.adresa.toLowerCase()) == this.adresa.toLowerCase()) this.korisnici.push(agencija);\n    });\n    this.stanje = \"Резултати претраге\";\n  }\n\n  reset_adresa() {\n    this.adresa = null;\n    this.pretraga();\n  }\n\n  reset_naziv() {\n    this.naziv = null;\n    this.pretraga();\n  }\n\n  pretraga() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.stara_adresa = _this.adresa;\n      _this.stari_naziv = _this.naziv;\n      _this.pretraga_u_toku = true;\n      _this.korisnici = [];\n\n      const delay = ms => new Promise(res => setTimeout(res, ms));\n\n      yield delay(1000);\n\n      if (!_this.naziv || _this.naziv == '') {\n        //nije unet naziv agencije\n        if (!_this.adresa || _this.adresa == '') {\n          //nije uneta ni adresa ni agencija\n          _this.ngOnInit();\n\n          _this.stanje = \"Сви корисници\";\n        } else {\n          _this.pretrazi_po_adresi();\n        }\n      } else {\n        //unet je naziv agencije\n        _this.pretrazi_po_nazivu();\n\n        if (!_this.adresa || _this.adresa == '') {//nije uneta adresa, ali jeste naziv, ne radimo nista\n        } else {\n          //uneta i adresa i naziv agencije\n          _this.pretrazi_po_oba();\n        }\n      }\n\n      _this.sortiraj(null);\n\n      _this.pretraga_u_toku = false;\n    })();\n  }\n\n}\n\nAgencijePregledComponent.ɵfac = function AgencijePregledComponent_Factory(t) {\n  return new (t || AgencijePregledComponent)(i0.ɵɵdirectiveInject(i1.KorisnikService));\n};\n\nAgencijePregledComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AgencijePregledComponent,\n  selectors: [[\"app-agencije-pregled\"]],\n  decls: 20,\n  vars: 8,\n  consts: [[1, \"container\"], [1, \"row\"], [\"class\", \"container col\", \"id\", \"pregled\", 4, \"ngIf\"], [\"class\", \"container col d-flex justify-content-center float-center\", 4, \"ngIf\"], [\"id\", \"pretraga\", 1, \"container\", \"col\"], [1, \"mb-3\"], [\"data-bs-toggle\", \"tooltip\", \"data-bs-placement\", \"top\", \"title\", \"\\u041F\\u0440\\u0435\\u0442\\u0440\\u0430\\u0433\\u0443 \\u0458\\u0435 \\u043C\\u043E\\u0433\\u0443\\u045B\\u0435 \\u0432\\u0440\\u0448\\u0438\\u0442\\u0438 \\u043F\\u043E \\u0458\\u0435\\u0434\\u043D\\u043E\\u043C \\u0438\\u043B\\u0438 \\u043E\\u0431\\u0430 \\u043A\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0458\\u0443\\u043C\\u0430. \\u0423\\u043D\\u043E\\u0441 \\u0443 \\u043F\\u043E\\u0459\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0438 \\u0434\\u0430 \\u045B\\u0435 \\u0442\\u043E \\u0431\\u0438\\u0442\\u0438 \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0430\\u0440 \\u0437\\u0430 \\u043F\\u0440\\u0435\\u0442\\u0440\\u0430\\u0433\\u0443.\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-info-circle-fill\"], [\"d\", \"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"], [\"id\", \"forma\", 1, \"\"], [\"for\", \"pretraga_naziv\", 1, \"form-label\"], [\"id\", \"pretraga_naziv\", \"type\", \"search\", \"placeholder\", \"\\u041F\\u0440\\u0435\\u0442\\u0440\\u0430\\u0433\\u0430\", \"aria-label\", \"Search\", 1, \"form-control\", \"me-2\", \"mb-2\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"for\", \"pretraga_adresa\", 1, \"form-label\"], [\"id\", \"pretraga_adres\", \"type\", \"search\", \"placeholder\", \"\\u041F\\u0440\\u0435\\u0442\\u0440\\u0430\\u0433\\u0430\", \"aria-label\", \"Search\", 1, \"form-control\", \"me-2\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [1, \"form-group\"], [\"class\", \"btn btn-primary mt-2 float-end\", \"disabled\", \"\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-primary mt-2 float-end\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"pregled\", 1, \"container\", \"col\"], [1, \"d-flex\", \"aligns-items-center\", \"justify-content-center\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"mt-3\"], [\"id\", \"ikonice_pretraga\", 1, \"mb-2\"], [\"id\", \"filteri\", 4, \"ngIf\"], [1, \"badge\", \"bg-white\", \"text-dark\", \"me-2\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"class\", \"bi bi-app\", \"viewBox\", \"0 0 16 16\", 4, \"ngIf\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"class\", \"bi bi-check-square-fill text-success\", \"viewBox\", \"0 0 16 16\", 4, \"ngIf\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-arrow-down\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-arrow-up\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"], [\"class\", \"row\", 4, \"ngIf\"], [\"id\", \"filteri\"], [\"class\", \"badge bg-white text-dark ms-2 me-2\", 4, \"ngIf\"], [\"class\", \"badge bg-white text-dark\", 4, \"ngIf\"], [1, \"badge\", \"bg-white\", \"text-dark\", \"ms-2\", \"me-2\"], [1, \"text-danger\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-x\"], [\"d\", \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"], [1, \"badge\", \"bg-white\", \"text-dark\"], [1, \"text-danger\", \"me-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-app\"], [\"d\", \"M11 2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zM5 1a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5z\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-check-square-fill\", \"text-success\"], [\"d\", \"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"mb-3\", 2, \"max-width\", \"540px\"], [1, \"row\", \"g-0\"], [1, \"col-md-4\"], [\"alt\", \"...\", 1, \"img-fluid\", \"rounded-start\", 3, \"src\"], [1, \"col-md-8\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"text-muted\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", 2, \"display\", \"none\"], [\"id\", \"info-fill\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\"], [\"role\", \"alert\", 1, \"alert\", \"alert-primary\", \"d-flex\", \"align-items-center\", \"w-auto\"], [\"width\", \"24\", \"height\", \"24\", \"role\", \"img\", \"aria-label\", \"Info:\", 1, \"bi\", \"flex-shrink-0\", \"me-2\"], [0, \"xlink\", \"href\", \"#info-fill\"], [1, \"container\", \"col\", \"d-flex\", \"justify-content-center\", \"float-center\"], [\"disabled\", \"\", 1, \"btn\", \"btn-primary\", \"mt-2\", \"float-end\", 3, \"click\"], [1, \"btn\", \"btn-primary\", \"mt-2\", \"float-end\", 3, \"click\"]],\n  template: function AgencijePregledComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, AgencijePregledComponent_div_2_Template, 4, 2, \"div\", 2);\n      i0.ɵɵtemplate(3, AgencijePregledComponent_div_3_Template, 2, 0, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"h4\", 5);\n      i0.ɵɵtext(6, \"\\u041F\\u0440\\u0435\\u0442\\u0440\\u0430\\u0433\\u0430 \");\n      i0.ɵɵelementStart(7, \"span\", 6);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(8, \"svg\", 7);\n      i0.ɵɵelement(9, \"path\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(10, \"div\", 9)(11, \"label\", 10);\n      i0.ɵɵtext(12, \"\\u041D\\u0430\\u0437\\u0438\\u0432 \\u0430\\u0433\\u0435\\u043D\\u0446\\u0438\\u0458\\u0435:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function AgencijePregledComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.naziv = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"label\", 12);\n      i0.ɵɵtext(15, \"\\u0410\\u0434\\u0440\\u0435\\u0441\\u0430:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function AgencijePregledComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.adresa = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 14);\n      i0.ɵɵtemplate(18, AgencijePregledComponent_button_18_Template, 2, 0, \"button\", 15);\n      i0.ɵɵtemplate(19, AgencijePregledComponent_button_19_Template, 2, 0, \"button\", 16);\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.ucitavanje);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.ucitavanje);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.naziv)(\"disabled\", ctx.pretraga_u_toku);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.adresa)(\"disabled\", ctx.pretraga_u_toku);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.pretraga_u_toku);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.pretraga_u_toku);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.LoaderComponent],\n  styles: [\".profilna_slika[_ngcontent-%COMP%]{\\r\\n    max-width: 100px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFnZW5jaWplLXByZWdsZWQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtBQUNwQiIsImZpbGUiOiJhZ2VuY2lqZS1wcmVnbGVkLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvZmlsbmFfc2xpa2F7XHJcbiAgICBtYXgtd2lkdGg6IDEwMHB4O1xyXG59Il19 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AgencijePregledComponent","constructor","korisnikService","ngOnInit","ucitavanje","pretraga_u_toku","korisnici","stanje","sviKorisnici","subscribe","pocetno","forEach","korisnik","uloga","push","opisi","dodatno","slice","opisi_indikator","sortiraj","res","sort_adresa_opadajuce","sort_adresa_rastuce","sort_naziv_opadajuce","sort_naziv_rastuce","sort","a","b","sort_string","indexOf","pretrazi_po_adresi","agencija","toLowerCase","match","adresa","pretrazi_po_nazivu","naziv","pretrazi_po_oba","reset_adresa","pretraga","reset_naziv","stara_adresa","stari_naziv","delay","ms","Promise","setTimeout","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\ea200304d\\Desktop\\ETF\\rti.PIA\\projekat\\frontend\\src\\app\\agencije-pregled\\agencije-pregled.component.html","C:\\Users\\ea200304d\\Desktop\\ETF\\rti.PIA\\projekat\\frontend\\src\\app\\agencije-pregled\\agencije-pregled.component.ts"],"sourcesContent":["<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"container col\" id=\"pregled\"  *ngIf=\"!ucitavanje\">\n            <div class=\"d-flex aligns-items-center justify-content-center\">\n                <app-loader *ngIf=\"pretraga_u_toku\" class=\"mt-3\"></app-loader>\n            </div>\n            <div  *ngIf=\"!pretraga_u_toku\">\n                <h4 class=\"mb-3\">{{stanje}}</h4>\n                \n                <div id=\"ikonice_pretraga\" class=\"mb-2\">\n                    <div id=\"filteri\" *ngIf=\"stanje=='Резултати претраге' \" >\n                    Филтери:\n                    <span class=\"badge bg-white text-dark ms-2 me-2\" *ngIf=\"stara_adresa && stara_adresa!=''\"><span class=\"text-danger\" (click)=\"reset_adresa()\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\n                            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                          </svg>\n                    </span>Адреса: {{stara_adresa}}</span>\n                    <span class=\"badge bg-white text-dark\" *ngIf=\"stari_naziv && stari_naziv!=''\"><span class=\"text-danger me-1\" (click)=\"reset_naziv()\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\n                            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                          </svg>\n                    </span>Назив: {{stari_naziv}}</span>\n                    \n                    <br/>\n                    </div>\n                    <div>\n                        Сортирање: <span class=\"badge bg-white text-dark me-2\" (click)=\"sortiraj('a_o')\"><svg *ngIf=\"!sort_adresa_opadajuce\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-app\" viewBox=\"0 0 16 16\">\n                            <path d=\"M11 2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zM5 1a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5z\"/>\n                          </svg><svg *ngIf=\"sort_adresa_opadajuce\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check-square-fill text-success\" viewBox=\"0 0 16 16\">\n                            <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z\"/>\n                          </svg>Адреса <svg  xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-down\" viewBox=\"0 0 16 16\">\n                            <path fill-rule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\n                          </svg>\n                          </span>\n\n                          <span class=\"badge bg-white text-dark me-2\" (click)=\"sortiraj('a_r')\"><svg *ngIf=\"!sort_adresa_rastuce\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-app\" viewBox=\"0 0 16 16\">\n                            <path d=\"M11 2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zM5 1a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5z\"/>\n                          </svg><svg *ngIf=\"sort_adresa_rastuce\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check-square-fill text-success\" viewBox=\"0 0 16 16\">\n                            <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z\"/>\n                          </svg>Адреса <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-up\" viewBox=\"0 0 16 16\">\n                            <path fill-rule=\"evenodd\" d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"/>\n                          </svg></span>\n\n                          <span class=\"badge bg-white text-dark me-2\" (click)=\"sortiraj('n_o')\"><svg *ngIf=\"!sort_naziv_opadajuce\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-app\" viewBox=\"0 0 16 16\">\n                            <path d=\"M11 2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zM5 1a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5z\"/>\n                          </svg><svg *ngIf=\"sort_naziv_opadajuce\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check-square-fill text-success\" viewBox=\"0 0 16 16\">\n                            <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z\"/>\n                          </svg>Назив <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-down\" viewBox=\"0 0 16 16\">\n                            <path fill-rule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\n                          </svg></span>\n\n                          <span class=\"badge bg-white text-dark me-2\" (click)=\"sortiraj('n_r')\"><svg *ngIf=\"!sort_naziv_rastuce\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-app\" viewBox=\"0 0 16 16\">\n                            <path d=\"M11 2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zM5 1a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5z\"/>\n                          </svg><svg *ngIf=\"sort_naziv_rastuce\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check-square-fill text-success\" viewBox=\"0 0 16 16\">\n                            <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z\"/>\n                          </svg>Назив <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-up\" viewBox=\"0 0 16 16\">\n                            <path fill-rule=\"evenodd\" d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"/>\n                          </svg></span>\n                          \n                    </div>\n                      \n                </div>\n                <div *ngIf=\"korisnici.length\">\n                <!--<div class=\"row\" *ngFor=\"let a of korisnici; let last = last;\" >\n                    <div class=\"col-md-auto\">\n                        <img src=\"http://localhost:4000/prikaz_slike/{{a['profilna_slika'] !='' ? a['profilna_slika'] : 'podrazumevano_agencija.png'}}\" class=\"profilna_slika\">\n                    </div>\n                    <div class=\"col\">\n                        <p><strong>Назив: </strong><a class=\"link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover\" routerLink=\"/pregled_agencija/{{a['korisnicko_ime']}}\">{{a[\"dodatno\"][\"naziv\"]}}</a></p>\n                        <p><strong>Опис: </strong>{{a[\"dodatno\"][\"opis\"]}}</p>\n                        <p>{{a.dodatno['adresa']}}</p>\n                    </div>\n                    <hr *ngIf=\"!last\">\n                </div>-->\n                <div class=\"row\" *ngFor=\"let a of korisnici; let i=index;\">\n                  <div class=\"card mb-3\" style=\"max-width: 540px;\">\n                    <div class=\"row g-0\">\n                      <div class=\"col-md-4\">\n                        <img src=\"http://localhost:4000/prikaz_slike/{{a['profilna_slika'] !='' ? a['profilna_slika'] : 'podrazumevano_agencija.png'}}\" class=\"img-fluid rounded-start\" alt=\"...\">\n                      </div>\n                      <div class=\"col-md-8\">\n                        <div class=\"card-body\">\n                          <h5 class=\"card-title\">{{a.dodatno['naziv']}}</h5>\n                          <p class=\"card-text\">{{opisi[i]}} <span *ngIf=\"opisi_indikator[i]\"> [...]</span></p>\n                          <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n                <div class=\"row\" *ngIf=\"!korisnici.length\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display: none;\">\n                    <symbol id=\"info-fill\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\n                      <path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>\n                    </symbol>\n                  </svg>\n                  <div class=\"alert alert-primary d-flex align-items-center w-auto\" role=\"alert\">\n                    <svg class=\"bi flex-shrink-0 me-2\" width=\"24\" height=\"24\" role=\"img\" aria-label=\"Info:\"><use xlink:href=\"#info-fill\"/></svg>\n                    <div>\n                      Нема резултата за унете параметре.\n                    </div>\n                  </div>\n                  \n                </div>\n            </div>\n            \n        </div>\n        <div class=\"container col d-flex justify-content-center float-center\" *ngIf=\"ucitavanje\">\n          <app-loader></app-loader>\n        </div>\n        <div class=\"container col\" id=\"pretraga\">\n            <h4 class=\"mb-3\">Претрага <span data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Претрагу је могуће вршити по једном или оба критеријума. Унос у поље значи да ће то бити параметар за претрагу.\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-info-circle-fill\" viewBox=\"0 0 16 16\">\n                <path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>\n              </svg></span></h4>\n            <div id=\"forma\" class=\"\">\n                <label for=\"pretraga_naziv\" class=\"form-label\">Назив агенције:</label>\n                <input class=\"form-control me-2 mb-2\" id=\"pretraga_naziv\" type=\"search\" [(ngModel)]=\"naziv\" placeholder=\"Претрага\" aria-label=\"Search\" [disabled]=\"pretraga_u_toku\">\n                <label for=\"pretraga_adresa\" class=\"form-label\">Адреса:</label>\n                <input class=\"form-control me-2\" id=\"pretraga_adres\" type=\"search\" placeholder=\"Претрага\" [(ngModel)]=\"adresa\" aria-label=\"Search\" [disabled]=\"pretraga_u_toku\">\n                <div class=\"form-group\">  \n                    <button class=\"btn btn-primary mt-2 float-end\" (click)=\"pretraga()\" disabled *ngIf=\"pretraga_u_toku\">Претрага</button>\n                    <button class=\"btn btn-primary mt-2 float-end\" (click)=\"pretraga()\" *ngIf=\"!pretraga_u_toku\">Претрага</button>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { KorisnikService } from '../korisnik.service';\nimport { Korisnik } from '../models/korisnik';\n\n@Component({\n  selector: 'app-agencije-pregled',\n  templateUrl: './agencije-pregled.component.html',\n  styleUrls: ['./agencije-pregled.component.css'],\n}) \nexport class AgencijePregledComponent implements OnInit {\n\n  constructor(private korisnikService: KorisnikService) { }\n\n  korisnici:Korisnik[];\n  stanje: string;\n  adresa: string;\n  stara_adresa: string;\n  naziv: string;\n  stari_naziv: string;\n  pocetno:Korisnik[];\n  pretraga_u_toku:boolean = false;\n  sort_naziv_rastuce:boolean=false;\n  sort_naziv_opadajuce:boolean=false;\n  sort_adresa_rastuce:boolean=false;\n  sort_adresa_opadajuce:boolean=false;\n  ucitavanje: boolean=false;\n  opisi:String[]\n  opisi_indikator:boolean[]\n  ngOnInit(): void {\n    this.ucitavanje = true;\n    this.pretraga_u_toku = false;\n    this.korisnici = []\n    this.stanje = \"Све агенције\";\n    this.korisnikService.sviKorisnici().subscribe((korisnici : Korisnik[])=>{\n    this.pocetno = korisnici;\n    korisnici.forEach((korisnik)=>{\n      if(korisnik.uloga == \"agencija\") {\n        this.korisnici.push(korisnik);\n        this.opisi = korisnik.dodatno['opis'].slice(0,100)\n        this.opisi_indikator.push(false)\n      }\n     })\n     this.pocetno = this.korisnici;\n     this.ucitavanje = false;\n    })\n    \n  }\n  sortiraj(res: string){\n    switch(res) {\n      case 'a_o':\n        this.sort_adresa_opadajuce = !this.sort_adresa_opadajuce\n        if(this.sort_adresa_opadajuce && this.sort_adresa_rastuce) this.sort_adresa_rastuce = false;\n        break;\n      case 'a_r':\n        this.sort_adresa_rastuce = !this.sort_adresa_rastuce\n        if(this.sort_adresa_opadajuce && this.sort_adresa_rastuce) this.sort_adresa_opadajuce = false;\n        break;\n      case 'n_o':\n        this.sort_naziv_opadajuce = !this.sort_naziv_opadajuce\n        if(this.sort_naziv_opadajuce && this.sort_naziv_rastuce) this.sort_naziv_rastuce = false;\n        break;\n      case 'n_r':\n        this.sort_naziv_rastuce = !this.sort_naziv_rastuce\n        if(this.sort_naziv_opadajuce && this.sort_naziv_rastuce) this.sort_naziv_opadajuce = false;\n        break;\n      default:\n    }\n    //console.log(\"sno \"+this.sort_naziv_opadajuce+\" snr \"+this.sort_naziv_rastuce+\" sao \"+this.sort_adresa_opadajuce+\" sar \"+this.sort_adresa_rastuce)\n    if(this.sort_adresa_opadajuce){\n      if(this.sort_naziv_opadajuce) this.korisnici.sort((a,b)=> ((this.sort_string(b['dodatno']['adresa'],a['dodatno']['adresa'])) || (this.sort_string(b['dodatno']['naziv'],a['dodatno']['naziv']))));\n      else if(this.sort_naziv_rastuce) this.korisnici.sort((a,b)=> ((this.sort_string(b['dodatno']['adresa'],a['dodatno']['adresa'])) || (this.sort_string(a['dodatno']['naziv'], b['dodatno']['naziv']))));\n      else this.korisnici.sort((a,b)=> this.sort_string(b['dodatno']['adresa'],a['dodatno']['adresa']))\n    }\n    else if(this.sort_adresa_rastuce){\n      if(this.sort_naziv_opadajuce) this.korisnici.sort((a,b)=> ((this.sort_string(a['dodatno']['adresa'],b['dodatno']['adresa'])) || (this.sort_string(b['dodatno']['naziv'],a['dodatno']['naziv']))));\n      else if(this.sort_naziv_rastuce) this.korisnici.sort((a,b)=> ((this.sort_string(a['dodatno']['adresa'],b['dodatno']['adresa'])) || (this.sort_string(a['dodatno']['naziv'], b['dodatno']['naziv']))));\n      else this.korisnici.sort((a,b)=> this.sort_string(a['dodatno']['adresa'],b['dodatno']['adresa']))\n    }\n    else if(this.sort_naziv_opadajuce){\n      this.korisnici.sort((a,b)=> this.sort_string(b['dodatno']['naziv'],a['dodatno']['naziv']))\n    }\n    else if(this.sort_naziv_rastuce){\n      this.korisnici.sort((a,b)=> this.sort_string(a['dodatno']['naziv'],b['dodatno']['naziv']))\n    }else{\n      this.korisnici.sort((a,b)=> {\n        \n        if(this.pocetno.indexOf(a)>this.pocetno.indexOf(b)) return 1;\n        else if(this.pocetno.indexOf(a)<this.pocetno.indexOf(b)) return -1;\n        else return 0;\n      })\n    }\n\n  }\n\n  sort_string(a,b){\n    if(a>b) return 1;\n    else if(a<b) return -1;\n    else return 0;\n  }\n  private pretrazi_po_adresi(){\n    this.pocetno.forEach((agencija)=>{\n      if(!(agencija.uloga==\"agencija\")) return;\n      if((agencija.dodatno[\"adresa\"]).toLowerCase().match(this.adresa.toLowerCase())==this.adresa.toLowerCase()) this.korisnici.push(agencija)\n    })\n    this.stanje=\"Резултати претраге\"\n  }\n  private pretrazi_po_nazivu(){\n    this.pocetno.forEach((agencija)=>{\n      if(!(agencija.uloga==\"agencija\")) return;\n      if(agencija.dodatno[\"naziv\"].toLowerCase().match(this.naziv.toLowerCase())==this.naziv.toLowerCase()) this.korisnici.push(agencija)\n    })\n    this.stanje=\"Резултати претраге\"\n  }\n  private pretrazi_po_oba(){\n    this.korisnici=[];\n    this.pocetno.forEach((agencija)=>{\n      if(!(agencija.uloga==\"agencija\")) return;\n      if(agencija.dodatno[\"naziv\"].toLowerCase().match(this.naziv.toLowerCase())==this.naziv.toLowerCase()\n      && (agencija.dodatno[\"adresa\"]).toLowerCase().match(this.adresa.toLowerCase())==this.adresa.toLowerCase()) this.korisnici.push(agencija)\n    })\n    this.stanje=\"Резултати претраге\"\n  }\n\n\n  reset_adresa(){\n    this.adresa = null;\n    this.pretraga();\n  }\n  reset_naziv(){\n    this.naziv = null;\n    this.pretraga();\n  }\n  \n  async pretraga(){\n    this.stara_adresa = this.adresa;\n    this.stari_naziv = this.naziv;\n    this.pretraga_u_toku= true;\n    this.korisnici = [];\n    const delay = ms => new Promise(res => setTimeout(res, ms));\n    await delay(1000);\n    if(!this.naziv || this.naziv == ''){\n      //nije unet naziv agencije\n      if(!this.adresa || this.adresa==''){\n        //nije uneta ni adresa ni agencija\n        this.ngOnInit()\n        this.stanje=\"Сви корисници\"\n      }else{\n        this.pretrazi_po_adresi();\n      }\n    }else{\n      //unet je naziv agencije\n      \n      this.pretrazi_po_nazivu();\n      if(!this.adresa || this.adresa==''){\n        //nije uneta adresa, ali jeste naziv, ne radimo nista\n      }else{\n        //uneta i adresa i naziv agencije\n        this.pretrazi_po_oba();\n      }\n    }\n    this.sortiraj(null);\n    this.pretraga_u_toku= false;\n  }\n  \n\n}\n"]},"metadata":{},"sourceType":"module"}